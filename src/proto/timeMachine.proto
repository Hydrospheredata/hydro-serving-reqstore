syntax = "proto3";

package timemachine;

message Empty{

}

message ID {
    int64 timestamp = 1;
    int64 unique = 2;
    string folder = 3;
}

message DbID {
    fixed64 timestamp = 1;
    fixed64 unique = 2;
}

message Data{
    ID id = 1;
    bytes data = 2;
}

message Range{
    ID from = 1;
    ID till = 2;
    string folder = 3;
}

service Timemachine {
    rpc Save(Data) returns (ID) {}
    rpc Get(ID) returns (Data) {}
    rpc GetRange(Range) returns (stream Data) {}
}

